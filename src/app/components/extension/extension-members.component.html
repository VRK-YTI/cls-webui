<div class="row" *ngIf="members.length > 0">
  <div class="col-md-4">
    <div class="input-group input-group-lg input-group-search">
      <input class="form-control"
             id="search_member_box_input"
             type="text"
             [(ngModel)]="searchTerm"
             placeholder="{{'Search for member' | translate}}"/>
    </div>
  </div>
</div>

<div class="row mb-4" *ngIf="members.length > 0">
  <div class="col-12 search-text">
    <span *ngIf="emptySearch" translate>Search did not find any members.</span>
    <span *ngIf="memberCount == 1"><b>1</b> {{'member' | translate}}</span>
    <span *ngIf="memberCount > 1"><b>{{memberCount}}</b> {{'members' | translate}}</span>
  </div>
</div>

<div class="extensions row">
  <div class="col-md-6">
      <div *ngIf="allowExpandAllAndCollapseAll()" class="d-inline-block mb-1 float-left">
        <button id="expand_all_button"
                *ngIf="showExpandAll()"
                type="button"
                class="btn btn-action ml-3 float-left"
                (click)="expandAll()"
                translate>Expand all</button>
        <button id="collapse_all_button"
                *ngIf="showCollapseAll()"
                type="button"
                class="btn btn-action ml-3 float-left"
                (click)="collapseAll()"
                translate>Collapse all</button>
      </div>
  </div>

  <div id="extension_members_div" class="col-md-12">
    <ul *ngIf="!useVirtualScroller" id="extension_members_regular">
      <li *ngFor="let member of listedMembers; trackBy: memberIdentity">
        <app-hierarchy-member [members]="members"
                              [member]="member"
                              [codeRegistryCodeValue]="extension.parentCodeScheme.codeRegistry.codeValue"
                              [codeSchemeCodeValue]="extension.parentCodeScheme.codeValue"
                              [extensionCodeValue]="extension.codeValue"
                              [ignoreHierarchy]="searchTermHasValue"></app-hierarchy-member>
      </li>
    </ul>
    <virtual-scroller *ngIf="useVirtualScroller" class="scroller-component" #scroll [items]="listedMembers"
                      [enableUnequalChildrenSizes]="true">
      <ul id="extension_members_huge" #container>
        <li *ngFor="let member of scroll.viewPortItems; trackBy: memberIdentity">
          <app-hierarchy-member [members]="members"
                                [member]="member"
                                [codeRegistryCodeValue]="extension.parentCodeScheme.codeRegistry.codeValue"
                                [codeSchemeCodeValue]="extension.parentCodeScheme.codeValue"
                                [extensionCodeValue]="extension.codeValue"
                                [ignoreHierarchy]="searchTermHasValue"
                                (expandedOrCollapsed)="onItemResize($event)"></app-hierarchy-member>
        </li>
      </ul>
    </virtual-scroller>
  </div>

  <div class="emptyMembers" *ngIf="members.length === 0">
    <span translate>This extension does not have any members yet.</span>
  </div>
</div>
